--create database HAYLUREALESTATE
--USE HAYLUREALESTATE

CREATE TABLE USERS(
	US_ID CHAR(10) NOT NULL PRIMARY KEY,
	US_FNAME VARCHAR(25) NOT NULL,
	US_LNAME VARCHAR(25) NOT NULL,
	US_AGE INT,
	US_SEX VARCHAR(6),
	US_CELLPHONE1 CHAR(17),
	US_CELLPHONE2 CHAR(17),
	US_COUNTRY VARCHAR(25),
	US_CITY VARCHAR(25),
	US_SUBCITY VARCHAR(25),
	US_HOUSENUMBER CHAR(10),
	US_EMAIL VARCHAR(50),
	US_PASSWORD VARCHAR(50),
    AP_ID CHAR(11),
	CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE APPOINTMENT(
	AP_ID CHAR(11) NOT NULL PRIMARY KEY,
	AP_PUROPSE VARCHAR(255),
	AP_SUGESSTION VARCHAR(100),
	AP_APPROVED VARCHAR(4) CHECK(AP_APPROVED = 'TRUE' OR AP_APPROVED='FALSE'),
	AP_TIME TIME,
	AP_DATE DATE
)

CREATE TABLE ASSIGN_APPOINTMENT(
	US_ID CHAR(11),
	AP_ID CHAR(11),
	EM_ID CHAR(11)
)

CREATE TABLE EMPLOYEE(
	EM_ID CHAR(11) NOT NULL PRIMARY KEY,
	EM_FNAME VARCHAR(50),
	EM_LNAME VARCHAR(50),
	EM_DATEOFBIRTH INT,
	EM_SEX VARCHAR(6),
	EM_CELLPHONE1 CHAR(17),
	EM_CELLPHONE2 CHAR(17),
	EM_COUNTRY VARCHAR(25),
	EM_CITY VARCHAR(25),
	EM_SUBCITY VARCHAR(25),
	EM_HOUSENUMBER CHAR(10),
	EM_EMAIL VARCHAR(50),
	EM_PASSWORD VARCHAR(50),
	EM_POSITION VARCHAR(50),
	EM_SALARY FLOAT,
	EM_PICTURE VARCHAR(255),
	EM_STATUS VARCHAR(25),
	EM_QULAIFICATION VARCHAR(50),
	EM_EMERGENCY_CONTACT VARCHAR(20),
	W_ID CHAR(11),
	EM_RATING INT,
	AD_ID CHAR(11),
	CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE ADMIN(
	AD_ID CHAR(11) NOT NULL PRIMARY KEY,
	AD_FNAME VARCHAR(50),
	AD_LNAME VARCHAR(50),
	AD_DATEOFBIRTH INT,
	AD_SEX VARCHAR(6),
	AD_CELLPHONE1 CHAR(17),
	AD_CELLPHONE2 CHAR(17),
	AD_COUNTRY VARCHAR(25),
	AD_CITY VARCHAR(25),
	AD_SUBCITY VARCHAR(25),
	AD_HOUSENUMBER CHAR(10),
	AD_EMAIL VARCHAR(50),
	AD_PASSWORD VARCHAR(50),
	AD_POSITION VARCHAR(50),
	AD_SALARY FLOAT,
	AD_PICTURE VARCHAR(255),
	AD_STATUS VARCHAR(25),
	AD_QULAIFICATION VARCHAR(50),
	AD_EMERGENCY_CONTACT VARCHAR(20),
	AD_RATING INT,
	CREATED_AT TIMESTAMP DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE CATEGORY(
	CAT_ID CHAR(50) PRIMARY KEY NOT NULL,
	CAT_NAME VARCHAR(25),
	CAT_TYPE VARCHAR(25),
	CAT_DESCRIPTION VARCHAR(100),
	CAT_PIC VARCHAR(255)
)

CREATE TABLE PROPERTY(
	PR_ID CHAR(11) NOT NULL PRIMARY KEY,
	PR_TYPE VARCHAR(50),
	PR_DESCRIPTION VARCHAR(100),
	PR_LOCATION VARCHAR(50),
	PR_SQFT VARCHAR(25),
	PR_YEAROFBUILD DATE,
	PR_FEATURES VARCHAR(50),
	PR_STATUS VARCHAR(10),
	RN_ID CHAR(11),
	CAT_ID CHAR(11)

)

CREATE TABLE PROPERTY_PIC(
	PP_ID CHAR(11),
	PP_PIC_1 VARCHAR(255),
	PP_PIC_2 VARCHAR(255),
	PP_PIC_3 VARCHAR(255),
	PP_PIC_4 VARCHAR(255),
	PP_PIC_5 VARCHAR(255),
	PP_PIC_6 VARCHAR(255),
	PP_PIC_7 VARCHAR(255),
	PP_PIC_8 VARCHAR(255),
	PR_ID CHAR(11)

)

CREATE TABLE ROOM_NUM(
	RN_ID CHAR(11) PRIMARY KEY NOT NULL,
	RN_SALON INT,
	RN_BEDROOM INT,
	RN_BATHROOM INT,
	RN_KITCHEN INT,
	RN_SERVICE INT,
	PR_ID CHAR(11)
)

--FORIEGN KEYS
ALTER TABLE PROPERTY 
    ADD FOREIGN KEY (RN_ID) 
    REFERENCES ROOM_NUM(RN_ID)

ALTER TABLE USERS 
    ADD FOREIGN KEY (AP_ID) 
    REFERENCES APPOINTMENT(AP_ID)